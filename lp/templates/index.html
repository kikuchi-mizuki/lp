<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚º - AIç§˜æ›¸ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³</title>
    <link rel="stylesheet" href="{{ url_for('static_files', filename='css/style.css') }}?v={{ cache_buster }}">
    <script src="https://js.stripe.com/v3/"></script>
</head>
<body>
    <header>
        <div class="header-container">
            <div class="logo-container">
                <img src="/static/images/logo.png" alt="AI Collections" class="logo-image">
            </div>
            <nav class="nav-menu">
                <a href="#pricing" class="nav-link">æ–™é‡‘</a>
                <a href="#lineup" class="nav-link">ãƒ©ã‚¤ãƒ³ãƒŠãƒƒãƒ—</a>
                <a href="#cases" class="nav-link">å°å…¥äº‹ä¾‹</a>
            </nav>
        </div>
    </header>

    <main>
        <!-- Hero Section -->
        <section class="hero">
            <div class="hero-content">
                <h1 class="hero-title">AIãŒã‚ãªãŸã®<br><span class="key-gradient">ç§˜æ›¸ã«ãªã‚‹</span>æ™‚ä»£</h1>
                <p class="hero-subtitle">ã‚¹ãƒãƒ›ã«è©±ã—ã‹ã‘ã‚‹ã ã‘ã§<br>æ—¥å¸¸ã®ã‚¿ã‚¹ã‚¯ãŒã©ã‚“ã©ã‚“ç‰‡ä»˜ã„ã¦ã„ã</p>
                <form id="subscription-form" class="hero-form">
                    <input type="text" name="company_name" placeholder="ä¼æ¥­åã‚’å…¥åŠ›" required class="hero-input">
                    <input type="email" name="email" placeholder="ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›" required class="hero-input">
                    <button type="submit" class="hero-btn">14æ—¥é–“ç„¡æ–™ã§å§‹ã‚ã‚‹</button>
                </form>
                <p class="hero-trial-note">14æ—¥é–“ç„¡æ–™ã§ãŠè©¦ã—ã§ãã¾ã™ã€‚è§£ç´„ã¯ã„ã¤ã§ã‚‚å¯èƒ½ã€‚</p>
            </div>
        </section>

        <!-- Statement Section -->
        <section class="statement-section">
            <div class="statement-content">
                <h2 class="statement-title statement-title-marker">
                    ã‚ãªãŸãŒæœ¬å½“ã«<br>
                    å‘ãåˆã„ãŸã„ä»•äº‹ã«<br>
                    <span class="marker">ã‚‚ã£ã¨é›†ä¸­ã™ã‚‹ãŸã‚ã«</span>
                </h2>
                
                <p class="statement-subtitle">
                    AIã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚ºã¯ã€å¿™ã—ã„ä¼æ¥­ã‚„çµŒå–¶è€…ã®ãŸã‚ã®"AIç§˜æ›¸ã‚µãƒ–ã‚¹ã‚¯"ã€‚
                </p>
                
                <div class="statement-text">
                    <p>ã¾ã‚‹ã§é•·å¹´é€£ã‚Œæ·»ã£ãŸãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã®ã‚ˆã†ã«ã€ã‚ãªãŸã®ä¸€è¨€ã«ã‚¹ãƒ ãƒ¼ã‚ºã«åå¿œã—ã€ç…©ã‚ã—ã„æ¥­å‹™ã‚’æ¬¡ã€…ã¨ã“ãªã—ã¦ãã‚Œã‚‹é ¼ã‚Œã‚‹AIãŸã¡ãŒã€ã‚ãªãŸã®æ—¥å¸¸ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚</p>
                    
                    <div class="statement-quote">
                        <p class="statement-quote-text">ã€ŒAIã£ã¦ã€ã“ã‚“ãªã«é ¼ã‚Œã‚‹ã‚“ã ã€</p>
                        <p class="statement-quote-subtext">ãã‚“ãªé©šãã¨å®‰å¿ƒã‚’ã€æ¯æ—¥ã®ä¸­ã«ã€‚</p>
                    </div>
                    
                    <p>ã‚ãªãŸã ã‘ã®"ã§ãã‚‹ç§˜æ›¸ãŸã¡"ãŒæƒã£ãŸã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã€ãã‚ŒãŒ<strong>AIã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚º</strong>ã§ã™ã€‚</p>
                </div>
            </div>
        </section>

        <!-- Features Section (dynamic) -->
        <section class="section">
            <h2 class="section-title">ãƒ©ã‚¤ãƒ³ã‚¢ãƒƒãƒ—</h2>
            
            <div class="features">
                {% if contents %}
                    {% for cid, item in contents.items() %}
                        <div class="feature-card">
                            <h3 class="feature-title">{{ item.name }}</h3>
                            <p class="feature-description">{{ item.description }}</p>
                             {# ç”»åƒ/å‹•ç”»è¡¨ç¤ºï¼ˆå„ªå…ˆ: item.image ã¾ãŸã¯ item.url ãŒç”»åƒ/å‹•ç”»ãªã‚‰ä½¿ç”¨ã€‚ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯: æ—¢å­˜ç”»åƒï¼‰ #}
                             {% set media_src = None %}
                             {% if item.image is defined and item.image %}
                                 {% set media_src = item.image %}
                             {% elif item.url %}
                                 {% set media_src = item.url %}
                             {% endif %}

                             {% set lower_src = (media_src or '') | lower %}
                             {% set is_video = lower_src.endswith('.mp4') or lower_src.endswith('.webm') or lower_src.endswith('.mov') %}
                             {% set is_image = lower_src.endswith('.jpg') or lower_src.endswith('.jpeg') or lower_src.endswith('.png') or lower_src.endswith('.gif') or lower_src.endswith('.svg') %}
                             {% set is_youtube = 'youtube.com' in lower_src or 'youtu.be' in lower_src %}

                             {% if not media_src or (not is_video and not is_image and not is_youtube) %}
                                 {# ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ç”»åƒ #}
                                 {% if 'account' in cid %}
                                     {% set media_src = '/static/images/line_accounting_optimized.jpg' %}
                                 {% elif 'schedule' in cid %}
                                     {% set media_src = '/static/images/line_schedule_optimized.jpg' %}
                                 {% elif 'task' in cid %}
                                     {% set media_src = '/static/images/line_task_optimized.jpg' %}
                                 {% else %}
                                     {% set media_src = '/static/images/secretary_optimized.jpg' %}
                                 {% endif %}
                                 {% set is_video = false %}
                             {% endif %}

                             {% if is_youtube %}
                                 {# YouTubeå‹•ç”»ã¯é€šå¸¸ã®å‹•ç”»ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¨ã—ã¦è¡¨ç¤º #}
                                 {% set embed_src = media_src | replace('https://youtu.be/', 'https://www.youtube.com/embed/') | replace('http://youtu.be/', 'https://www.youtube.com/embed/') | replace('https://www.youtube.com/watch?v=', 'https://www.youtube.com/embed/') | replace('http://www.youtube.com/watch?v=', 'https://www.youtube.com/embed/') | replace('https://youtube.com/watch?v=', 'https://www.youtube.com/embed/') | replace('http://youtube.com/watch?v=', 'https://www.youtube.com/embed/') %}
                                 <div class="feature-image-wrapper youtube-wrapper">
                                     <iframe class="feature-image youtube-video" src="{{ embed_src }}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';"></iframe>
                                     <div class="youtube-fallback" style="display: none;">
                                         <div class="fallback-content">
                                             <div class="fallback-icon">ğŸ“º</div>
                                             <p class="fallback-text">YouTubeå‹•ç”»ã‚’è¡¨ç¤ºã§ãã¾ã›ã‚“</p>
                                             <a href="{{ media_src }}" target="_blank" class="fallback-link">YouTubeã§è¦‹ã‚‹</a>
                                         </div>
                                     </div>
                                 </div>
                             {% else %}
                                 {# ç”»åƒãƒ»å‹•ç”»ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³é¢¨ãƒ•ãƒ¬ãƒ¼ãƒ ã§è¡¨ç¤º #}
                                 <div class="feature-image-wrapper">
                                     {% if is_video %}
                                         <video class="feature-image" src="{{ media_src }}" autoplay muted loop playsinline preload="metadata"></video>
                                     {% else %}
                                         <img src="{{ media_src }}" alt="{{ item.name }}" class="feature-image" loading="lazy">
                                     {% endif %}
                                 </div>
                             {% endif %}
                            {% if item.features and item.features|length > 0 %}
                                <ul>
                                    {% for f in item.features %}
                                        <li>{{ f }}</li>
                                    {% endfor %}
                                </ul>
                            {% endif %}
                        </div>
                    {% endfor %}
                {% else %}
                    <div>ã‚³ãƒ³ãƒ†ãƒ³ãƒ„æƒ…å ±ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸã€‚</div>
                {% endif %}
            </div>
        </section>

        <!-- Pricing Section -->
        <section class="section pricing-section">
            <h2 class="section-title">æ–™é‡‘ãƒ—ãƒ©ãƒ³</h2>
            <div class="pricing-container">
                <div class="pricing-card">
                    <h3 class="pricing-title">æœˆé¡ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³</h3>
                    <div class="pricing-price">
                        <span class="price-amount">Â¥3,900</span>
                        <span class="price-period">/æœˆ</span>
                    </div>
                    <ul class="pricing-features">
                        <li>åŸºæœ¬æ–™é‡‘ï¼ˆ1ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¾ã§ï¼‰</li>
                        <li>è¿½åŠ ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼šÂ¥1,500/æœˆ</li>
                        <li>2é€±é–“ç„¡æ–™ãƒˆãƒ©ã‚¤ã‚¢ãƒ«</li>
                        <li>ã„ã¤ã§ã‚‚è§£ç´„å¯èƒ½</li>
                    </ul>
                    <div class="pricing-reassure">14æ—¥é–“ã®ç„¡æ–™ãƒˆãƒ©ã‚¤ã‚¢ãƒ«ã§å®‰å¿ƒã€‚ã¾ãšã¯ãŠè©¦ã—ãã ã•ã„ã€‚</div>
                    <div style="margin-top: 1.5rem;">
                        <a href="#" class="cta-inline-btn">ä»Šã™ãç„¡æ–™ã§å§‹ã‚ã‚‹</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- CTA Section (å‰Šæ¸›ã®ãŸã‚å‰Šé™¤) -->
    </main>

    <footer>
        <div class="footer-links">
            <a href="https://tan-cotton-558.notion.site/252546a0c04d8023b7b0db09a7bc0d1a?source=copy_link" target="_blank" rel="noopener noreferrer">åˆ©ç”¨è¦ç´„</a>
            <a href="https://tan-cotton-558.notion.site/258546a0c04d809a9f3ae7065dc6cd50?source=copy_link" target="_blank" rel="noopener noreferrer">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a>
            <a href="https://tan-cotton-558.notion.site/258546a0c04d806ab811f913d6ddfa60?source=copy_link" target="_blank" rel="noopener noreferrer">ç‰¹å®šå•†å–å¼•æ³•ã«åŸºã¥ãè¡¨è¨˜</a>
            <a href="https://tan-cotton-558.notion.site/258546a0c04d80bd9265dda1cd0f8db7?source=copy_link" target="_blank" rel="noopener noreferrer">è¿”é‡‘ãƒ»ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒãƒªã‚·ãƒ¼</a>
            <a href="https://tan-cotton-558.notion.site/258546a0c04d806ab81afb780f5ccb72?source=copy_link" target="_blank" rel="noopener noreferrer">ãŠå•ã„åˆã‚ã›</a>
        </div>
        <div class="footer-copyright">&copy; 2024 AIã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚º</div>
    </footer>

    <script>
        // YouTubeå‹•ç”»ã®èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼æ¤œå‡º
        document.addEventListener('DOMContentLoaded', function() {
            const youtubeIframes = document.querySelectorAll('.youtube-video');
            youtubeIframes.forEach(function(iframe) {
                iframe.addEventListener('error', function() {
                    this.style.display = 'none';
                    const fallback = this.nextElementSibling;
                    if (fallback && fallback.classList.contains('youtube-fallback')) {
                        fallback.style.display = 'flex';
                    }
                });
                
                // ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå‡¦ç†ï¼ˆ5ç§’å¾Œã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯è¡¨ç¤ºï¼‰
                setTimeout(function() {
                    if (iframe.offsetHeight === 0 || iframe.contentWindow === null) {
                        iframe.style.display = 'none';
                        const fallback = iframe.nextElementSibling;
                        if (fallback && fallback.classList.contains('youtube-fallback')) {
                            fallback.style.display = 'flex';
                        }
                    }
                }, 5000);
            });
        });

        document.getElementById('subscription-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const companyName = document.querySelector('input[name="company_name"]').value;
            const email = document.querySelector('input[name="email"]').value;
            const submitButton = document.querySelector('.hero-btn');
            
            // ãƒœã‚¿ãƒ³ã‚’ç„¡åŠ¹åŒ–
            submitButton.disabled = true;
            submitButton.textContent = 'å‡¦ç†ä¸­...';
            
            try {
                const response = await fetch('/company-registration', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ 
                        company_name: companyName,
                        email: email 
                    })
                });
                
                const data = await response.json();
                
                if (data.error) {
                    alert('ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ' + data.error);
                    submitButton.disabled = false;
                    submitButton.textContent = 'ï¼’é€±é–“ç„¡æ–™ãƒˆãƒ©ã‚¤ã‚¢ãƒ«ä¸­ï¼';
                    return;
                }
                
                // ä¼æ¥­ç™»éŒ²æˆåŠŸã®å ´åˆã€Stripeã®æ±ºæ¸ˆãƒšãƒ¼ã‚¸ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
                window.location.href = data.url;
                
            } catch (error) {
                console.error('Error:', error);
                alert('ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚');
                submitButton.disabled = false;
                submitButton.textContent = 'ï¼’é€±é–“ç„¡æ–™ãƒˆãƒ©ã‚¤ã‚¢ãƒ«ä¸­ï¼';
            }
        });
    </script>
</body>
</html>
